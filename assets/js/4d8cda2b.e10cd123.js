"use strict";(self.webpackChunkearthnut_doc_of_docusaurus=self.webpackChunkearthnut_doc_of_docusaurus||[]).push([[1665],{3339:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>t,toc:()=>c});var t=s(4805),i=s(7259),r=s(9087);const l={slug:"npm \u5305\u6784\u5efa\u57fa\u7840",title:"npm \u5305\u57fa\u7840\u6784\u5efa",tags:["npm \u5305"],keywords:["npm","package","\u57fa\u7840"],description:"\u5f00\u59cb\u6784\u5efa npm \u5305\u524d\u9700\u8981\u8003\u8651\u7684"},a="\u57fa\u7840\u5fc5\u8981\u7684\u914d\u7f6e",d={authorsImageUrls:[]},c=[{value:"\u521d\u59cb\u5316 package.json",id:"\u521d\u59cb\u5316-packagejson",level:2},{value:"\u6267\u884c\u521d\u59cb\u5316",id:"\u6267\u884c\u521d\u59cb\u5316",level:3},{value:"\u624b\u52a8\u914d\u7f6e",id:"\u624b\u52a8\u914d\u7f6e",level:3},{value:"\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177",id:"\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177",level:2},{value:"\u5b89\u88c5\u4f9d\u8d56",id:"\u5b89\u88c5\u4f9d\u8d56",level:3},{value:"\u914d\u7f6e\u6587\u4ef6 .prettierrc",id:"\u914d\u7f6e\u6587\u4ef6-prettierrc",level:3},{value:"\u914d\u7f6e\u6587\u4ef6 .prettierignore",id:"\u914d\u7f6e\u6587\u4ef6-prettierignore",level:3},{value:"\u6267\u884c\u811a\u672c\u6dfb\u52a0",id:"\u6267\u884c\u811a\u672c\u6dfb\u52a0",level:3},{value:"\u4ee3\u7801\u68c0\u67e5\u5de5\u5177",id:"\u4ee3\u7801\u68c0\u67e5\u5de5\u5177",level:2},{value:"\u5b89\u88c5\u4f9d\u8d56",id:"\u5b89\u88c5\u4f9d\u8d56-1",level:3},{value:"\u914d\u7f6e\u6587\u4ef6 .eslintrc",id:"\u914d\u7f6e\u6587\u4ef6-eslintrc",level:3},{value:"\u6dfb\u52a0 lint \u811a\u672c",id:"\u6dfb\u52a0-lint-\u811a\u672c",level:3},{value:"\u6784\u5efa\u5de5\u5177 git \ud83e\ude9d",id:"\u6784\u5efa\u5de5\u5177-git-",level:2},{value:"\u5b89\u88c5\u4f9d\u8d56",id:"\u5b89\u88c5\u4f9d\u8d56-2",level:3},{value:"\u914d\u7f6e\u6587\u4ef6 package.json",id:"\u914d\u7f6e\u6587\u4ef6-packagejson",level:3},{value:"\u521d\u59cb\u5316 Husky",id:"\u521d\u59cb\u5316-husky",level:3},{value:"\u6d4b\u8bd5\u6846\u67b6 \uff08jest \u4e3a\u4f8b\uff09",id:"\u6d4b\u8bd5\u6846\u67b6-jest-\u4e3a\u4f8b",level:2},{value:"\u5b89\u88c5\u4f9d\u8d56",id:"\u5b89\u88c5\u4f9d\u8d56-3",level:3},{value:"\u914d\u7f6e\u6587\u4ef6 jest.config.js",id:"\u914d\u7f6e\u6587\u4ef6-jestconfigjs",level:3},{value:"\u6dfb\u52a0\u6d4b\u8bd5\u811a\u672c",id:"\u6dfb\u52a0\u6d4b\u8bd5\u811a\u672c",level:3},{value:"typescript \u652f\u6301",id:"typescript-\u652f\u6301",level:2},{value:"\u5b89\u88c5\u4f9d\u8d56",id:"\u5b89\u88c5\u4f9d\u8d56-4",level:3},{value:"\u914d\u7f6e\u6587\u4ef6 tsconfig.json",id:"\u914d\u7f6e\u6587\u4ef6-tsconfigjson",level:3},{value:"\u6587\u4ef6\u6a21\u7248",id:"\u6587\u4ef6\u6a21\u7248",level:2},{value:".gitignore",id:"gitignore",level:3},{value:".npmignore",id:"npmignore",level:3}];function o(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"\u521d\u59cb\u5316-packagejson",children:"\u521d\u59cb\u5316 package.json"}),"\n",(0,i.jsx)(n.h3,{id:"\u6267\u884c\u521d\u59cb\u5316",children:"\u6267\u884c\u521d\u59cb\u5316"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm init -y\n"})}),"\n","\n",(0,i.jsx)(n.h3,{id:"\u624b\u52a8\u914d\u7f6e",children:"\u624b\u52a8\u914d\u7f6e"}),"\n",(0,i.jsx)(n.p,{children:"\u6216\u8005\u624b\u52a8\u914d\u7f6e\u76f8\u5173\u4fe1\u606f\uff08\u5305\u542b\u672a\u63d0\u53ca\u7684\u529f\u80fd\uff09\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "name": "a-type-of-js",\n  "type": "module",\n  "version": "1.0.0",\n  "main": "dist/index.js",\n  "module": "dist/index.esm.js",\n  "types": "dist/index.d.ts",\n  "files": ["dist"],\n  "author": {\n    "name": "earthnut",\n    "email": "earthnut.dev@outlook.com",\n    "url": "https://earthunut.dev"\n  },\n  "description": "a type of js",\n  "keywords": ["js", "type"],\n  "license": "MIT",\n  "homepage": "https://earthnut.dev/npm/a-type-of-js",\n  "bugs": {\n    "url": "https://github.com/earthnutDev/a-type-of-js/issues",\n    "email": "earthnut.dev@outlook.com"\n  },\n  "repository": {\n    "type": "git",\n    "url": "git+https://github.com/earthnutDev/a-type-of-js.git"\n  },\n  "publishConfig": {\n    "access": "public",\n    "registry": "https://registry.npmjs.org"\n  },\n  "devDependencies": {\n    "rollup": "^2.67.0",\n    "@rollup/plugin-babel": "^6.0.2",\n    "@rollup/plugin-commonjs": "^21.0.5"\n  },\n  "scripts": {\n    "build": "rollup -c rollup.config.js"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177",children:"\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177"}),"\n",(0,i.jsx)(n.h3,{id:"\u5b89\u88c5\u4f9d\u8d56",children:"\u5b89\u88c5\u4f9d\u8d56"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm i --save-dev prettier\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u914d\u7f6e\u6587\u4ef6-prettierrc",children:"\u914d\u7f6e\u6587\u4ef6 .prettierrc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "printWidth": 80,\n  "tabWidth": 2,\n  "useTabs": false,\n  "semi": true,\n  "singleQuote": true,\n  "trailingComma": "es5",\n  "bracketSpacing": true,\n  "arrowParens": "avoid",\n  "proseWrap": "preserve",\n  "htmlWhitespaceSensitivity": "css",\n  "endOfLine": "lf"\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u914d\u7f6e\u6587\u4ef6-prettierignore",children:"\u914d\u7f6e\u6587\u4ef6 .prettierignore"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-markdown",children:"node_modules/\ndist\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u6267\u884c\u811a\u672c\u6dfb\u52a0",children:"\u6267\u884c\u811a\u672c\u6dfb\u52a0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "format": "prettier --write ."\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u4ee3\u7801\u68c0\u67e5\u5de5\u5177",children:"\u4ee3\u7801\u68c0\u67e5\u5de5\u5177"}),"\n",(0,i.jsx)(n.h3,{id:"\u5b89\u88c5\u4f9d\u8d56-1",children:"\u5b89\u88c5\u4f9d\u8d56"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# eslint\nnpm i --save-dev eslint eslint-config-prettier\n# for typescript\nnpm install --save-dev @typescript-eslint/parser @typescript-eslint/eslint-plugin\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u914d\u7f6e\u6587\u4ef6-eslintrc",children:"\u914d\u7f6e\u6587\u4ef6 .eslintrc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "env": {\n    "browser": true,\n    "es2021": true\n  },\n  "extends": [\n    "eslint:recommended",\n    "prettier/eslint-config-prettier"\n  ],\n  "parser": "@typescript-eslint/parser",\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u6dfb\u52a0-lint-\u811a\u672c",children:"\u6dfb\u52a0 lint \u811a\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "lint": "eslint . --fix"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u6784\u5efa\u5de5\u5177-git-",children:"\u6784\u5efa\u5de5\u5177 git \ud83e\ude9d"}),"\n",(0,i.jsx)(n.h3,{id:"\u5b89\u88c5\u4f9d\u8d56-2",children:"\u5b89\u88c5\u4f9d\u8d56"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm i --save-dev husky lint-staged\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u914d\u7f6e\u6587\u4ef6-packagejson",children:"\u914d\u7f6e\u6587\u4ef6 package.json"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "lint-staged": {\n    "*.{js,ts}": ["prettier --write", "eslint --fix", "git add"]\n  },\n  "scripts": {\n    "prepare": "husky install"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u521d\u59cb\u5316-husky",children:"\u521d\u59cb\u5316 Husky"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'npm run prepare\nnpx husky add .husky/pre-commit "npx lint-staged"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u6d4b\u8bd5\u6846\u67b6-jest-\u4e3a\u4f8b",children:"\u6d4b\u8bd5\u6846\u67b6 \uff08jest \u4e3a\u4f8b\uff09"}),"\n",(0,i.jsxs)(n.p,{children:["\u53ef\u53c2\u8003 ",(0,i.jsx)(n.a,{href:"/%E6%97%A5%E5%BF%97/jest%20%E7%9A%84%E4%BD%BF%E7%94%A8",children:"jest"})]}),"\n",(0,i.jsx)(n.h3,{id:"\u5b89\u88c5\u4f9d\u8d56-3",children:"\u5b89\u88c5\u4f9d\u8d56"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# jest\nnpm i --save-dev jest\n# for typescript\nnpm i --save-dev ts-jest @types/jest\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u914d\u7f6e\u6587\u4ef6-jestconfigjs",children:"\u914d\u7f6e\u6587\u4ef6 jest.config.js"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  testEnvironment: 'node',\n  testMatch: ['**/__tests__/**/*.[jt]s?(x)', '**/?(*.)+(spec|test).[tj]s?(x)'],\n  coverageDirectory: 'coverage',\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u6dfb\u52a0\u6d4b\u8bd5\u811a\u672c",children:"\u6dfb\u52a0\u6d4b\u8bd5\u811a\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "test": "jest"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"typescript-\u652f\u6301",children:"typescript \u652f\u6301"}),"\n",(0,i.jsx)(n.h3,{id:"\u5b89\u88c5\u4f9d\u8d56-4",children:"\u5b89\u88c5\u4f9d\u8d56"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm i --save-dev typescript @types/node\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u914d\u7f6e\u6587\u4ef6-tsconfigjson",children:"\u914d\u7f6e\u6587\u4ef6 tsconfig.json"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "target": "esnext",\n    "module": "esnext",\n    "moduleResolution": "node",\n    "lib": ["esnext", "dom"],\n    "esModuleInterop": true,\n    "skipLibCheck": true,\n    "strict": true,\n    "noEmit": true,\n    "resolveJsonModule": true,\n    "allowSyntheticDefaultImports": true,\n    "forceConsistentCasingInFileNames": true,\n    "noImplicitReturns": true,\n    "noFallthroughCasesInSwitch": true,\n    "noUnusedLocals": true,\n    "noUnusedParameters": true,\n    "noImplicitAny": true,\n    "noImplicitThis": true,\n    "noImplicitOverride": true,\n    "sourceMap": false,\n    "emitDeclarationOnly": true,\n    "declaration": true,\n    "outDir": "dist",\n    "declarationDir": "dist/types"\n  },\n  "include": ["src/**/*.ts"],\n  "exclude": ["node_modules", "dist", "**/*.test.ts"]\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u6587\u4ef6\u6a21\u7248",children:"\u6587\u4ef6\u6a21\u7248"}),"\n",(0,i.jsx)(n.h3,{id:"gitignore",children:".gitignore"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-markdown",children:"node_modules/\ndist\n.DS_Store\n.idea/\n"})}),"\n",(0,i.jsx)(n.h3,{id:"npmignore",children:".npmignore"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-markdown",children:"node_modules/\ndist\n.DS_Store\n.idea/\ntsconfig.json\njest.config.js\n"})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},4805:e=>{e.exports=JSON.parse('{"permalink":"/\u65e5\u5fd7/npm \u5305\u6784\u5efa\u57fa\u7840","source":"@site/blog/2025-3-8-\u9879\u76ee\u6784\u5efa\u57fa\u7840.mdx","title":"npm \u5305\u57fa\u7840\u6784\u5efa","description":"\u5f00\u59cb\u6784\u5efa npm \u5305\u524d\u9700\u8981\u8003\u8651\u7684","date":"2025-03-08T00:00:00.000Z","tags":[{"inline":false,"label":"npm \u5305","permalink":"/\u65e5\u5fd7/tags/npm_package/","description":"npm \u5305\u76f8\u5173"}],"readingTime":2.1,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"npm \u5305\u6784\u5efa\u57fa\u7840","title":"npm \u5305\u57fa\u7840\u6784\u5efa","tags":["npm \u5305"],"keywords":["npm","package","\u57fa\u7840"],"description":"\u5f00\u59cb\u6784\u5efa npm \u5305\u524d\u9700\u8981\u8003\u8651\u7684"},"unlisted":false,"prevItem":{"title":"npm \u5305\u5176\u4ed6\u6784\u5efa","permalink":"/\u65e5\u5fd7/npm \u5305\u6784\u5efa\u5176\u4ed6"},"nextItem":{"title":"\u521d\u7528 Cloudflare Pages","permalink":"/\u65e5\u5fd7/\u521d\u7528 Cloudflare Pages"}}')},9087:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var t=s(6363);const i={},r=t.createContext(i);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);